api-inspector (0.168 ms)
{
    "request": {
        "method": "GET",
        "url": "https://shgw2.peterlabs.net/echo/clone-63774/resource?param1=sample",
        "headers": [
            {
                "name": "Accept",
                "value": "*/*"
            },
            {
                "name": "Host",
                "value": "shgw2.peterlabs.net"
            },
            {
                "name": "User-Agent",
                "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"
            },
            {
                "name": "Accept-Encoding",
                "value": "gzip,deflate,br"
            },
            {
                "name": "Accept-Language",
                "value": "en-US,en;q=0.9,sv;q=0.8"
            },
            {
                "name": "Origin",
                "value": "https://apimanagement.hosting.portal.azure.net"
            },
            {
                "name": "Referer",
                "value": "https://apimanagement.hosting.portal.azure.net/"
            },
            {
                "name": "sec-ch-ua",
                "value": "\"Not_A Brand\";v=\"99\",\"Microsoft Edge\";v=\"109\",\"Chromium\";v=\"109\""
            },
            {
                "name": "DNT",
                "value": "1"
            },
            {
                "name": "header2",
                "value": "HEADER2_VALUE1"
            },
            {
                "name": "sec-ch-ua-mobile",
                "value": "?0"
            },
            {
                "name": "ocp-apim-subscription-key",
                "value": "336afba91a1643c68347a6dc2ec37b6a"
            },
            {
                "name": "header1",
                "value": "HEADER1_VALUE1"
            },
            {
                "name": "sec-ch-ua-platform",
                "value": "\"Windows\""
            },
            {
                "name": "sec-fetch-site",
                "value": "cross-site"
            },
            {
                "name": "sec-fetch-mode",
                "value": "cors"
            },
            {
                "name": "sec-fetch-dest",
                "value": "empty"
            }
        ]
    }
}
api-inspector (0.003 ms)
{
    "configuration": {
        "api": {
            "from": "/echo",
            "to": {
                "scheme": "http",
                "host": "echoapi.cloudapp.net",
                "port": 80,
                "path": "/api",
                "queryString": "",
                "query": {},
                "isDefaultPort": true
            },
            "version": null,
            "revision": "1"
        },
        "operation": {
            "method": "GET",
            "uriTemplate": "/clone-63774/resource"
        },
        "user": "-",
        "product": "-"
    }
}
cors (0.032 ms)
"Cross domain request was well formed and was allowed to proceed. CORS related headers were added to the response."
set-variable (0.012 ms)
{
    "message": "Expression was successfully evaluated.",
    "expression": " \n            string header1 = context.Request.Headers.GetValueOrDefault(\"header1\", \"\");\n            \n            return header1;\n        ",
    "value": "HEADER1_VALUE1"
}
set-variable (0.010 ms)
{
    "message": "Context variable was successfully set.",
    "name": "clientId",
    "value": "HEADER1_VALUE1"
}
set-variable (0.004 ms)
{
    "message": "Expression was successfully evaluated.",
    "expression": "\n            string iss = \"NOISS\";\n            string header2 = context.Request.Headers.GetValueOrDefault(\"header2\", \"\");\n\n            return header2;\n        ",
    "value": "HEADER2_VALUE1"
}
set-variable (0.001 ms)
{
    "message": "Context variable was successfully set.",
    "name": "OauthToken",
    "value": "HEADER2_VALUE1"
}
cache-lookup-value (0.003 ms)
{
    "message": "Expression was successfully evaluated.",
    "expression": "(string)context.Variables[\"clientId\"] + \"_HapiToken\"",
    "value": "HEADER1_VALUE1_HapiToken"
}
cache-lookup-value (0.002 ms)
"Using cache 'home'."
cache-lookup-value (43.902 ms)
{
    "message": "Cache lookup resulted in a hit.",
    "key": "2_HEADER1_VALUE1_HapiToken",
    "value": "HEADER2_VALUE1",
    "variableName": "hapitoken"
}
cache-store-value (0.024 ms)
"Using cache 'home'."
cache-store-value (0.008 ms)
{
    "message": "Expression was successfully evaluated.",
    "expression": "(string)context.Variables[\"clientId\"] + \"_HapiToken\"",
    "value": "HEADER1_VALUE1_HapiToken"
}
cache-store-value (0.004 ms)
{
    "message": "Expression was successfully evaluated.",
    "expression": "(string)context.Variables[\"OauthToken\"]",
    "value": "HEADER2_VALUE1"
}
cache-store-value (0.053 ms)
{
    "message": "Value stored in cache.",
    "key": "2_HEADER1_VALUE1_HapiToken",
    "value": "HEADER2_VALUE1",
    "timeout": "00:02:00"
}
Backend
(257.096 ms)â†‘ Back to top
request-forwarder (0.065 ms)
{
    "message": "Request is being forwarded to the backend service. Timeout set to 300 seconds",
    "request": {
        "method": "GET",
        "url": "http://echoapi.cloudapp.net/api/clone-63774/resource?param1=sample",
        "proxyUrl": null
    }
}
forward-request (257.031 ms)
{
    "response": {
        "status": {
            "code": 200,
            "reason": "OK"
        },
        "headers": [
            {
                "name": "Cache-Control",
                "value": "no-cache"
            },
            {
                "name": "Pragma",
                "value": "no-cache"
            },
            {
                "name": "Expires",
                "value": "-1"
            },
            {
                "name": "Server",
                "value": "Microsoft-IIS/8.5"
            },
            {
                "name": "Accept",
                "value": "*/*"
            },
            {
                "name": "Accept-Encoding",
                "value": "gzip,deflate,br"
            },
            {
                "name": "Accept-Language",
                "value": "en-US,en; q=0.9,sv; q=0.8"
            },
            {
                "name": "Host",
                "value": "echoapi.cloudapp.net"
            },
            {
                "name": "Referer",
                "value": "https://apimanagement.hosting.portal.azure.net/"
            },
            {
                "name": "User-Agent",
                "value": "Mozilla/5.0,(Windows NT 10.0; Win64; x64),AppleWebKit/537.36,(KHTML, like Gecko),Chrome/109.0.0.0,Safari/537.36"
            },
            {
                "name": "Origin",
                "value": "https://apimanagement.hosting.portal.azure.net"
            },
            {
                "name": "sec-ch-ua",
                "value": "\"Not_A Brand\";v=\"99\",\"Microsoft Edge\";v=\"109\",\"Chromium\";v=\"109\""
            },
            {
                "name": "DNT",
                "value": "1"
            },
            {
                "name": "header2",
                "value": "HEADER2_VALUE1"
            },
            {
                "name": "sec-ch-ua-mobile",
                "value": "?0"
            },
            {
                "name": "X-Forwarded-For",
                "value": "79.136.72.128"
            },
            {
                "name": "ocp-apim-subscription-key",
                "value": "336afba91a1643c68347a6dc2ec37b6a"
            },
            {
                "name": "header1",
                "value": "HEADER1_VALUE1"
            },
            {
                "name": "sec-ch-ua-platform",
                "value": "\"Windows\""
            },
            {
                "name": "sec-fetch-site",
                "value": "cross-site"
            },
            {
                "name": "sec-fetch-mode",
                "value": "cors"
            },
            {
                "name": "sec-fetch-dest",
                "value": "empty"
            },
            {
                "name": "X-Powered-By",
                "value": "Azure API Management - http://api.azure.com/,ASP.NET"
            },
            {
                "name": "X-AspNet-Version",
                "value": "4.0.30319"
            },
            {
                "name": "Date",
                "value": "Fri, 18 Nov 2022 10:32:37 GMT"
            },
            {
                "name": "Content-Length",
                "value": "0"
            }
        ]
    }
}